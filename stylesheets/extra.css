/* ============================================================
   MkDocs Material — Custom Sidebar Widths + Layout Enhancements
   Author: ChatGPT
   ============================================================ */

/* ------------------------------------------------------------
   1. 主要修改：调整左侧主导航栏宽度
   ------------------------------------------------------------ */
:root {
  --md-sidebar-width: 400px;              /* 左侧导航栏宽度 */
  --md-sidebar-width-mobile: 260px;       /* 手机端宽度 */
  --md-toc-width: 360px;                  /* 右侧 TOC 宽度 */
}

/* ------------------------------------------------------------
   2. 左侧主侧边栏宽度（Desktop）
   ------------------------------------------------------------ */
/* 主侧边栏容器宽度（外层 aside） */
.md-sidebar--primary {
  width: 360px !important;       /* 想要多宽改这里 */
  max-width: 360px !important;
}

/* 内层导航区域（你的元素） */
.md-nav--primary.md-nav--integrated {
  width: 360px !important;
  max-width: 360px !important;
}

/* 目录列表的宽度限制 */
.md-nav--primary .md-nav__list {
  max-width: 360px !important;
}

/* 每一行目录项的宽度 */
.md-nav--primary .md-nav__item {
  max-width: 360px !important;
}

/* 菜单项文字宽度处理（最关键） */
.md-nav--primary .md-nav__link {
  max-width: 360px !important;
  white-space: normal !important;
  overflow-wrap: break-word;
}

/* ------------------------------------------------------------
   3. 右侧 TOC 侧边栏宽度（Desktop）
   ------------------------------------------------------------ */

/* 右侧 TOC 宽度应用 */
.md-sidebar--secondary {
  width: var(--md-toc-width) !important;
  max-width: var(--md-toc-width) !important;
}

/* TOC 列表容器宽度 */
.md-nav--secondary .md-nav__list {
  max-width: var(--md-toc-width) !important;
}

/* TOC 每一项的宽度 */
.md-nav--secondary .md-nav__item {
  max-width: var(--md-toc-width) !important;
}

/* TOC 链接文本宽度（避免被强行折行） */
.md-nav--secondary .md-nav__link {
  max-width: var(--md-toc-width) !important;
  white-space: normal !important;
}

/* 如果你还想防止文字溢出，用下面这一行： */
.md-nav--secondary .md-nav__link {
  overflow-wrap: break-word;
}

/* ------------------------------------------------------------
   4. 内容区最大宽度优化，让阅读更舒服
   ------------------------------------------------------------ */
.md-main__inner {
  margin-left: 1rem;
  margin-right: 1rem;
}

/* ------------------------------------------------------------
   5. 防止侧边栏变宽后 nav 文字换行意外折叠
   ------------------------------------------------------------ */
.md-nav__title,
.md-nav__item .md-nav__link {
  white-space: normal;
  line-height: 1.4;
}

/* ------------------------------------------------------------
   6. 优化搜索面板，使其在宽侧栏下仍居中
   ------------------------------------------------------------ */
.md-search__inner {
  max-width: 720px;
}

/* ------------------------------------------------------------
   7. 左侧导航栏滚动条更柔和（美观）
   ------------------------------------------------------------ */
.md-sidebar--primary::-webkit-scrollbar,
.md-sidebar--secondary::-webkit-scrollbar {
  width: 6px;
}

.md-sidebar--primary::-webkit-scrollbar-thumb,
.md-sidebar--secondary::-webkit-scrollbar-thumb {
  background: rgba(0,0,0,0.2);
  border-radius: 3px;
}

.md-sidebar--primary::-webkit-scrollbar-thumb:hover,
.md-sidebar--secondary::-webkit-scrollbar-thumb:hover {
  background: rgba(0,0,0,0.35);
}

/* ------------------------------------------------------------
   8. 浅色 & 深色模式适配（Material 自动切换）
   ------------------------------------------------------------ */
[data-md-color-scheme="default"] {
  --sidebar-bg: #f8f9fa;
  --sidebar-text: #333;
}

[data-md-color-scheme="slate"] {
  --sidebar-bg: #1f1f1f;
  --sidebar-text: #e6e6e6;
}

.md-sidebar--primary {
  background-color: var(--sidebar-bg);
  color: var(--sidebar-text);
}

/* ------------------------------------------------------------
   9. 移动端优化：避免侧边栏遮挡标题
   ------------------------------------------------------------ */
@media (max-width: 768px) {
  .md-sidebar--primary {
    width: var(--md-sidebar-width-mobile);
    max-width: var(--md-sidebar-width-mobile);
  }

  .md-sidebar--secondary {
    display: none;   /* Mobile 下默认隐藏 TOC，避免拥挤 */
  }
}

/* ------------------------------------------------------------
   10. 当左侧栏变宽后，logo & site name 居中更美观
   ------------------------------------------------------------ */
.md-header__title {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
