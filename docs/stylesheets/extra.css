/* ============================================================
   MkDocs Material — Custom Sidebar Widths + FULL Desktop Layout
   FIXED: Mobile drawer not showing
   ============================================================ */

/* ------------------------------------------------------------
   1. Desktop Sidebar Widths
   ------------------------------------------------------------ */
:root {
  --md-sidebar-width: 400px;      /* Left navigation width */
  --md-toc-width: 360px;          /* Right TOC width */
}

/* LEFT sidebar (desktop) */
@media (min-width: 769px) {
  .md-sidebar--primary {
    width: var(--md-sidebar-width) !important;
    max-width: var(--md-sidebar-width) !important;
  }

  .md-nav--primary.md-nav--integrated,
  .md-nav--primary .md-nav__list,
  .md-nav--primary .md-nav__item,
  .md-nav--primary .md-nav__link {
    max-width: var(--md-sidebar-width) !important;
  }

  .md-nav--primary .md-nav__link {
    white-space: normal !important;
    overflow-wrap: break-word;
  }
}

/* RIGHT sidebar (desktop TOC) */
@media (min-width: 769px) {
  .md-sidebar--secondary {
    width: var(--md-toc-width) !important;
    max-width: var(--md-toc-width) !important;
  }

  .md-nav--secondary .md-nav__list,
  .md-nav--secondary .md-nav__item,
  .md-nav--secondary .md-nav__link {
    max-width: var(--md-toc-width) !important;
  }

  .md-nav--secondary .md-nav__link {
    white-space: normal !important;
  }
}

/* ------------------------------------------------------------
   2. MOBILE — allow the drawer to work
   ------------------------------------------------------------ */
@media (max-width: 768px) {

  /* NOTE: DO NOT hide or compress the primary sidebar! 
     Allow Material to handle drawer transform animation. */

  .md-sidebar--primary {
    display: block !important;
    width: 300px !important;       /* Drawer width */
    max-width: 300px !important;
    transform: translateX(-100%);  /* Initial hidden */
    transition: transform 0.25s ease;
    background-color: var(--sidebar-bg, #fff);
    z-index: 20;
  }

  /* When drawer toggle is checked, slide it out */
  .md-nav-toggle:checked ~ .md-sidebar--primary {
    transform: translateX(0);
  }

  /* RIGHT TOC hidden on mobile (Material default) */
  .md-sidebar--secondary {
    display: none !important;
  }

  /* Main content should fill width */
  .md-main__inner {
    margin: 0 !important;
    padding: 0 1rem !important;
  }
}

/* ------------------------------------------------------------
   3. FULL-WIDTH Content on Desktop
   ------------------------------------------------------------ */
@media (min-width: 769px) {
  .md-main__inner,
  .md-content,
  .md-content__inner {
    max-width: 100% !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 2rem !important;
  }
}

/* ------------------------------------------------------------
   4. Scrollbar Styling
   ------------------------------------------------------------ */
.md-sidebar--primary::-webkit-scrollbar,
.md-sidebar--secondary::-webkit-scrollbar {
  width: 6px;
}

.md-sidebar--primary::-webkit-scrollbar-thumb,
.md-sidebar--secondary::-webkit-scrollbar-thumb {
  background: rgba(0,0,0,0.2);
  border-radius: 3px;
}

/* ------------------------------------------------------------
   5. Theme Colors
   ------------------------------------------------------------ */
@media (min-width: 769px) {
  [data-md-color-scheme="default"] {
    --sidebar-bg: #f8f9fa;
    --sidebar-text: #333;
  }
  [data-md-color-scheme="slate"] {
    --sidebar-bg: #1f1f1f;
    --sidebar-text: #e6e6e6;
  }
  .md-sidebar--primary {
    background-color: var(--sidebar-bg);
    color: var(--sidebar-text);
  }
}
